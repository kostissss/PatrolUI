<app-notifheader title="Companies" icon="fa fa-users fa-lg "></app-notifheader>
<div class="dbcompanies " style="display: flex; flex-direction: column; box-sizing: border-box; height: 75vh;" >
    <ejs-grid #grid [dataSource]="data" [editSettings]='editSettings' [toolbar]='toolbar' [allowFiltering]="true" 
    [allowSorting]='true' height='100%' width="100%" [textWrapSettings]='wrapOption' [allowTextWrap]="true"
    (toolbarClick)='clickHandler($event)' (recordClick)="onItemClick()" [allowExcelExport]='true'>
        <e-columns>
            <e-column field='ID' headerText='ID' width=40>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.ID}}</div>
                </ng-template>
            </e-column>
            <e-column field='username' headerText='Username' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.username }}</div>
                </ng-template>
            </e-column>
            <e-column field='name' headerText='Name' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Name}}</div>
                </ng-template>
            </e-column>
            <e-column field='email' headerText='Email' width=70>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Email}}</div>
                </ng-template>
            </e-column>
            <e-column field='guards' headerText='Guards' width=40>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Guards}}</div>
                </ng-template>
            </e-column>
            <e-column field='PatrolLinceses' headerText='Patrol Linceses:' width=40>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.PatrolLinceses }}</div>
                </ng-template>
            </e-column>
            <e-column field='PTTLinceses' headerText='PTT Linceses' width=40>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.PTTLinceses }}</div>
                </ng-template>
            </e-column>
            <e-column field='created' headerText='Created' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Created }}</div>
                </ng-template>
            </e-column>
            <e-column field='linceses' headerText='Linceses' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Linceses }}</div>
                </ng-template>
            </e-column>
            <e-column field='LincesesActive' headerText='Linceses Active' width=40>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.LincesesActive }}</div>
                </ng-template>
            </e-column>
            <e-column field='expirationDate' headerText='Expiration Date' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.ExpirationDate }}</div>
                </ng-template>
            </e-column>
            <e-column field='lastLogin' headerText='Last Login' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.LastLogin}}</div>
                </ng-template>
            </e-column>
            <e-column field='unlocked' headerText='unlocked' width=30>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Unlocked }}</div>
                </ng-template>
            </e-column>
            <e-column field='Demo' headerText='Demo' width=30>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Demo}}</div>
                </ng-template>
            </e-column>
            <e-column field='Parent' headerText='Parent' width=50>
                <ng-template #template let-data>
                    <div [ngClass]="{'green-text': data.LincesesActive === '\u2717', 'red-text': data.LincesesActive !== '\u2717'}">{{ data.Parent }}</div>
                </ng-template>
            </e-column>
        </e-columns>
    </ejs-grid>
    <div class="companies-count" style="height: 70vh;">
        Total Companies: {{ companiesCount }}
    </div>
    <app-change-plan #onChangePlanDialog></app-change-plan>
    <app-details #onDetailsDialog></app-details>
    <app-inspect-company #onInspectCompaniesDialog></app-inspect-company>
    <app-reset-password #onResetPassDialog></app-reset-password>
</div>
